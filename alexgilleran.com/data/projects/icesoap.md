IceSoap is a library that adds the ability to consume SOAP web services to all versions of Android. It came about around 2010 as I was trying to design a generic Websphere Commerce app in my spare time. The only web API it exposed at the time was SOAP-based, and even for SOAP it was complicated - clearly having been designed for consumption by an ESB rather than a little mobile application.

The predominant solution for SOAP in Android was and remains KSoap - a lightweight SOAP library that's based on Java 1.3 and didn't really seem to me that much easier than just POSTing a SOAP envelope to the server myself and parsing the response... so that was what I did. As I wrote custom envelope builders and dealt with the pain of building parsers with XMLPullParser, I got pretty frustrated. This'd be so much easier if the web service was just REST + JSON... why couldn't I just create custom classes to map directly to the XML responses, like GSON can to JSON?

Why not indeed?

So embarked upon creating a general-purpose parser that would iterate through the document, keeping track of the XPath of the current xpath and checking it against a map of fields that were annotated with the XPath of the XML element they corresponded with. Having got the parsing to work, I added a simple API for building up SOAP requests (something that I found needlessly difficult in KSoap) and made it automatically asynchronous using Android AsyncTasks.

Around this time Websphere Commerce Feature Pack 4 came out, including REST services and a finished generic Android app that connected to them. I was proud of my creation though - not so much the app itself as the SOAP layer, which nearly all the effort had gone into. I figured it could help someone else, so I separated the SOAP code out of the app, put it on Google Code and started working on it in isolation. Having never really contributed to Open Source before, I wasn't sure anyone would be interested at all until one day I found that someone had sent me a bug report... turns out that someone had found the nearly undocumented code, cloned it and was using it for his app. Guess there was some interest.

From there I wrote up a proper wiki, neatened up the APIs and published it on Sonatype. It's not as popular as I'd like, but designing APIs for developers you'll never meet or hear from teaches you a lot about keeping it simple and writing decent documentation. The great thing about open-sourcing your code is that you code like everyone in the world is watching, which teaches you a lot about keeping to a good style and keeping your javadocs up to date. I've learnt a great deal from IceSoap, and it's been incredibly rewarding hearing from various developers around the world who it's helped. 